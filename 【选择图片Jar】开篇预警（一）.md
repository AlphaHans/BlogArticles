---
title: 【选择图片Jar】开篇预警（一）
date: 2016-01-29 13:25
---

<h3>1.前言</h3>
Android App中选择图片来上传图片和选择图片作为头像可以说是必不可少了的，但是经常的是需要不断地复制原本的代码到新的项目中去，这样很麻烦。于是乎我就想有没有一个办法能够消除这种情况。
<!-- more -->
<h3>2.方法探索</h3>
 1. 打包成jar包
 2. 创建依赖库 library
一开始我是先尝试jar包，后来发现对应的资源文件layout、drawable等等都是不能一起打包进去的，要是这样使用jar包，项目中会报异常。所以我选择使用library，但是这时候问题就来了，library在团队协作中并不是一个好的选择，因为SVN并不能一起上传library，这样就带来很大的困扰。所以我重新审视了第一个方法-jar包。那么，如果我用纯代码实现所有的东西，岂不是可以打包出一个正常使用的jar包？答案是正确的！

<h3>3.需要解决的问题</h3>

 1. drawable中的资源文件，如选中图片的右上角的脚标图片 如下图所示（右上角的钩钩）
	 ![这里写图片描述](http://img.blog.csdn.net/20160129124803944)
	 
	 解决方案：我们可以通过新项目中传入资源的id来实现。（PS：比我原来想将资源直接打包进入jar中想法更加好）
	 
 2. layout文件，主要是GridView的Item布局文件。平时我们的布局文件是通过LayoutInflate.from(context).inflate(R.id.xxx,...)来实现，但我们可以不可以用代码实现呢？答案显然是可以的，我们可以直接用代码写出我们的布局。
 
 至此，我们不能成功导出jar包的两个问题，我们都得到了解决。


